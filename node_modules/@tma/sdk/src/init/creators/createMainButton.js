import { MainButton } from "../../components/main-button/MainButton.js";
import { getStorageValue, saveStorageValue } from "../../storage.js";
/**
 * Creates MainButton instance using last locally saved data also saving each state in
 * the storage.
 * @param isPageReload - was current page reloaded.
 * @param backgroundColor - background color.
 * @param textColor - text color.
 * @param postEvent - Bridge postEvent function
 */ export function createMainButton(isPageReload, backgroundColor, textColor, postEvent) {
  const { backgroundColor: stateBackgroundColor = backgroundColor, isEnabled = false, isVisible = false, isLoaderVisible = false, textColor: stateTextColor = textColor, text = '' } = isPageReload ? getStorageValue('main-button') || {} : {};
  const component = new MainButton({
    backgroundColor: stateBackgroundColor,
    isEnabled,
    isLoaderVisible,
    isVisible,
    postEvent,
    text,
    textColor: stateTextColor
  });
  const saveState = ()=>saveStorageValue('main-button', {
      backgroundColor: component.backgroundColor,
      isEnabled: component.isEnabled,
      isLoaderVisible: component.isLoaderVisible,
      isVisible: component.isVisible,
      text: component.text,
      textColor: component.textColor
    });
  component.on('change', saveState);
  return component;
}
//# sourceMappingURL=createMainButton.js.map